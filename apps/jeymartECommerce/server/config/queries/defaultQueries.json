{
  "shopInitGet": [
    {
      "id": "getAllAvailableCategories",
      "meta": {
        "index": "jeymart_item",
        "type": "doc"
      },
      "steps": [
        { "id": 1, "method": "size", "param": 0 },
        { "id": 2, "agg": "TermsAggregation",
          "param": [ "_cats", "k_category" ],
          "size": 20,
          "order": [ "_key", "asc" ]
        }
      ],
      "query": {
        "aggs": {
          "_cats": {
            "terms": {
              "field": "k_category",
              "size": 20,
              "order": {
                "_key": "asc"
              }
            }
          }
        }
      }
    }
  ],
  "searchbarTextAutoCompletionSuggestionsGet": [
    {
      "id": "getSearchbarTextAutoCompletions",
      "meta": {
        "index": "jeymart_item",
        "type": "doc"
      },
      "steps": [
        { "id": 1, "suggest": "completion",
          "label": "_suggestions",
          "field": "t_description.suggest",
          "size": 20
        }
      ],
      "suggest": {
        "_suggestions": {
          "prefix": "pea",
          "completion": {
            "field": "t_description.suggest"
          }
        }
      }
    }
  ],
  "shopFacetsGet": [
    {
      "id": "getFacetsCategories",
      "meta": {
        "index": "jeymart_item",
        "type": "doc"
      },
      "steps": [
        { "id": 1, "method": "size", "param": 0 },
        { "id": 2, "agg": "TermsAggregation",
          "param": [ "_cats", "k_category" ],
          "size": 20,
          "order": [ "_count", "desc" ]
        }
      ],
      "query": {
        "aggs": {
          "_cats": {
            "terms": {
              "field": "k_category",
              "size": 20,
              "order": {
                "_count": "desc"
              }
            }
          }
        }
      }
    },
    {
      "id": "getFacetsBrands",
      "meta": {
        "index": "jeymart_item",
        "type": "doc"
      },
      "steps": [
        { "id": 1, "method": "size", "param": 0 },
        { "id": 2, "agg": "TermsAggregation",
          "param": [ "_brands", "s_brand_name.keyword" ],
          "size": 20,
          "order": [ "_count", "desc" ]
        }
      ],
      "query": {
        "aggs": {
          "_brands": {
            "terms": {
              "field": "s_brand_name.keyword",
              "size": 20,
              "order": {
                "_count": "desc"
              }
            }
          }
        }
      }
    },
    {
      "id": "getFacetsRatings",
      "meta": {
        "index": "jeymart_user_trx",
        "type": "doc"
      },
      "steps": [
        { "id": 1, "method": "size", "param": 0 },
        { "id": 2, "agg": "TermsAggregation",
          "param": [ "_ratings", "i_rating" ],
          "size": 10,
          "order": [ "_key", "desc" ]
        }
      ],
      "query": {
        "aggs": {
          "_ratings": {
            "terms": {
              "field": "i_rating",
              "size": 10,
              "order": {
                "_key": "desc"
              }
            }
          }
        }
      }
    }
  ],
  "shopLandingInfoGet": [
    {
      "id": "getTop5CategoryTop6HitsForLandingInfo",
      "meta": {
        "index": "jeymart_user_trx",
        "type": "doc"
      },
      "steps": [
        { "id": 1, "method": "size", "param": 0 },
        { "id": 2, "agg": "TermsAggregation",
          "param": [ "_cats", "k_category" ],
          "size": 5,
          "order": [ "_qty", "desc" ],
          "subAggs": [
            { "agg": "SumAggregation",
              "param": [ "_qty", "i_qty" ]
            },
            { "agg": "TopHitsAggregation",
              "param": [ "_top6" ],
              "size": 4
            }
          ]
        }
      ],
      "query": {
        "aggs": {
          "_cats": {
            "terms": {
              "field": "k_category",
              "size": 5,
              "order": {
                "_qty": "desc"
              }
            },
            "aggs": {
              "_qty": {
                "sum": {
                  "field": "i_qty"
                }
              },
              "_top5": {
                "top_hits": {
                  "size": 4
                }
              }
            }
          }
        }
      }
    }
  ]

}
